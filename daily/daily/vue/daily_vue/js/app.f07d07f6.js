(function(){"use strict";var e={6249:function(e,t,o){var r=o(9963),i=(o(1335),o(6252));function s(e,t,o,r,s,l){const a=(0,i.up)("Header"),n=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("nav",null,[(0,i.Wm)(a)]),(0,i.Wm)(n)],64)}var l=o(3577);const a=e=>((0,i.dD)("data-v-67384385"),e=e(),(0,i.Cn)(),e),n={style:{height:"64px","line-height":"64px","border-bottom":"1px solid #ccc",display:"flex"}},m=a((()=>(0,i._)("span",null,"Navigator Two",-1))),d={style:{margin:"0 auto",color:"dodgerblue","font-weight":"bold","font-size":"20px"}},u=a((()=>(0,i._)("span",{style:{margin:"0 auto","font-size":"20px"}},"Message",-1))),h=a((()=>(0,i._)("span",{style:{margin:"0 auto","font-size":"20px"}},"Center",-1))),c=a((()=>(0,i._)("span",{style:{margin:"0 auto","font-size":"20px"}},"Favorite",-1))),g=a((()=>(0,i._)("span",{style:{margin:"0 auto","font-size":"20px"}},"security",-1))),p=a((()=>(0,i._)("span",{style:{margin:"0 auto","font-size":"20px"}},"setting",-1))),f=a((()=>(0,i._)("span",{style:{margin:"0 auto","font-size":"20px"}},"logout",-1))),w=(0,i.Uk)("登录"),y=(0,i.Uk)(" 忘记密码 "),b=(0,i.Uk)(" 去注册 "),C=(0,i.Uk)(" 获取验证码 "),_=(0,i.Uk)("验证"),F=a((()=>(0,i._)("div",{style:{width:"80%"}}," 如果你忘记了账号或者邮箱而至无法进行身份验证，请联系管理员(dailyspace@163.com)并提供一切有关信息，我们将与48小时内帮助验证身份 ",-1))),W=(0,i.Uk)("确定"),k=(0,i.Uk)(" 获取验证码 "),V=(0,i.Uk)("注册"),v=a((()=>(0,i._)("div",{style:{width:"256px","padding-left":"20px","font-size":"large","font-weight":"bold",color:"blue"}},"DailySpace",-1))),x=a((()=>(0,i._)("div",{style:{flex:"1px"}},null,-1)));function z(e,t,o,s,a,z){const U=(0,i.up)("more"),Z=(0,i.up)("el-icon"),S=(0,i.up)("el-button"),D=(0,i.up)("icon-menu"),P=(0,i.up)("el-menu-item"),j=(0,i.up)("el-menu"),O=(0,i.up)("el-drawer"),T=(0,i.up)("el-avatar"),E=(0,i.up)("chat-dot-square"),R=(0,i.up)("mostly-cloudy"),q=(0,i.up)("star"),A=(0,i.up)("lock"),L=(0,i.up)("setting"),N=(0,i.up)("key"),H=(0,i.up)("el-input"),M=(0,i.up)("el-form-item"),G=(0,i.up)("right"),I=(0,i.up)("el-form"),$=(0,i.up)("el-dialog"),B=(0,i.up)("el-tag"),Y=(0,i.up)("User");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",null,[(0,i.Wm)(S,{style:{"margin-left":"20px",height:"50px",width:"50px"},onClick:t[0]||(t[0]=e=>a.leftDrawer=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{style:{"font-size":"16px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(U)])),_:1})])),_:1})]),(0,i.Wm)(O,{modelValue:a.leftDrawer,"onUpdate:modelValue":t[1]||(t[1]=e=>a.leftDrawer=e),title:"I am the title","with-header":!1,direction:"ltr"},{default:(0,i.w5)((()=>[(0,i.Wm)(j,{"default-active":"2",class:"el-menu-vertical-demo",onOpen:a.handleOpen,onClose:a.handleClose},{default:(0,i.w5)((()=>[(0,i.Wm)(P,{index:"2"},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,null,{default:(0,i.w5)((()=>[(0,i.Wm)(D)])),_:1}),m])),_:1})])),_:1},8,["onOpen","onClose"])])),_:1},8,["modelValue"]),(0,i.Wm)(O,{modelValue:a.rightDrawer,"onUpdate:modelValue":t[2]||(t[2]=e=>a.rightDrawer=e),size:"128px",title:"I am the title","with-header":!1},{default:(0,i.w5)((()=>[(0,i.Wm)(j,{class:"el-menu-vertical-demo",style:{"border-right":"0"}},{default:(0,i.w5)((()=>[(0,i.Wm)(P,{index:"1",style:{padding:"0px",height:"100px",width:"100px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(T,{src:a.profilePicture,size:"large",style:{margin:"0 auto",height:"100px",width:"100px"}},null,8,["src"])])),_:1}),(0,i.Wm)(P,{index:"2",style:{padding:"0px",height:"100px",width:"100px"}},{default:(0,i.w5)((()=>[(0,i._)("span",d,(0,l.zw)(a.name),1)])),_:1}),(0,i.Wm)(P,{index:"3",style:{padding:"0px",height:"64px",width:"80px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{style:{"font-size":"16px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(E)])),_:1}),u])),_:1}),(0,i.Wm)(P,{index:"4",style:{padding:"0px",height:"64px",width:"80px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{style:{"font-size":"16px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(R)])),_:1}),h])),_:1}),(0,i.Wm)(P,{index:"5",style:{padding:"0px",height:"64px",width:"80px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{style:{"font-size":"16px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(q)])),_:1}),c])),_:1}),(0,i.Wm)(P,{index:"6",style:{padding:"0px",height:"64px",width:"80px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{style:{"font-size":"16px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(A)])),_:1}),g])),_:1}),(0,i.Wm)(P,{index:"7",style:{padding:"0px",height:"64px",width:"80px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{style:{"font-size":"16px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(L)])),_:1}),p])),_:1}),(0,i.Wm)(P,{index:"8",style:{padding:"0px",height:"64px",width:"80px"},onClick:z.logout},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{style:{"font-size":"16px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(N)])),_:1}),f])),_:1},8,["onClick"])])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)($,{title:"登录",modelValue:a.loginVisible,"onUpdate:modelValue":t[7]||(t[7]=e=>a.loginVisible=e),width:"384px",center:"true",onClose:t[8]||(t[8]=e=>z.loginDialogClose()),"append-to-body":"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{model:a.form,"label-width":"20%","label-position":"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(M,{label:"用户名",size:"large"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.form.username,"onUpdate:modelValue":t[3]||(t[3]=e=>a.form.username=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,{label:"密码",size:"large"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.form.password,"onUpdate:modelValue":t[4]||(t[4]=e=>a.form.password=e),style:{width:"80%"},"show-password":"true"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,{size:"large"},{default:(0,i.w5)((()=>[(0,i.Wm)(S,{onClick:t[5]||(t[5]=e=>z.login()),style:{width:"80%"}},{default:(0,i.w5)((()=>[w])),_:1})])),_:1}),(0,i.Wm)(M,{size:"large"},{default:(0,i.w5)((()=>[(0,i.Wm)(S,{onClick:z.forgetShow,style:{"margin-right":"0%",width:"40%"},type:"primary",plain:""},{default:(0,i.w5)((()=>[y])),_:1},8,["onClick"]),(0,i.Wm)(S,{onClick:t[6]||(t[6]=e=>z.registerShow()),style:{"margin-left":"0%",width:"40%"},type:"primary",plain:""},{default:(0,i.w5)((()=>[b,(0,i.Wm)(Z,null,{default:(0,i.w5)((()=>[(0,i.Wm)(G)])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,i.Wm)($,{title:"忘记密码",modelValue:a.forgetVisible,"onUpdate:modelValue":t[13]||(t[13]=e=>a.forgetVisible=e),width:"384px",center:"true",onClose:t[14]||(t[14]=e=>z.forgetDialogClose()),"append-to-body":"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{model:a.forgetForm,"label-width":"20%","label-position":"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(M,{label:"用户名"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.forgetForm.username,"onUpdate:modelValue":t[9]||(t[9]=e=>a.forgetForm.username=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,{label:"邮箱"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.forgetForm.email,"onUpdate:modelValue":t[10]||(t[10]=e=>a.forgetForm.email=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,{label:"验证码"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.forgetForm.code,"onUpdate:modelValue":t[11]||(t[11]=e=>a.forgetForm.code=e),style:{width:"40%"}},null,8,["modelValue"]),(0,i.Wm)(S,{disabled:a.forgetGetCodeDisable,onClick:z.forgetGetCode,style:{width:"40%"}},{default:(0,i.w5)((()=>[C])),_:1},8,["disabled","onClick"]),(0,i.wy)((0,i.Wm)(B,{size:"small"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.count),1)])),_:1},512),[[r.F8,a.forgetCodeShow]])])),_:1}),(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[(0,i.Wm)(S,{onClick:t[12]||(t[12]=e=>z.checkReal()),style:{width:"80%"}},{default:(0,i.w5)((()=>[_])),_:1})])),_:1}),(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[F])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,i.Wm)($,{title:"密码重置",modelValue:a.chongZhiVisible,"onUpdate:modelValue":t[18]||(t[18]=e=>a.chongZhiVisible=e),width:"384px",center:"true",onClose:t[19]||(t[19]=e=>z.chongZhiDialogClose()),"append-to-body":"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{model:a.chongZhiForm,"label-width":"20%","label-position":"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(M,{label:"密码",required:"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.chongZhiForm.passwordFirst,"onUpdate:modelValue":t[15]||(t[15]=e=>a.chongZhiForm.passwordFirst=e),style:{width:"80%"},"show-password":"true"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,{label:"再次输入",required:"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.chongZhiForm.passwordSecond,"onUpdate:modelValue":t[16]||(t[16]=e=>a.chongZhiForm.passwordSecond=e),style:{width:"80%"},"show-password":"true"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[(0,i.Wm)(S,{onClick:t[17]||(t[17]=e=>z.chongZhi()),style:{width:"80%"}},{default:(0,i.w5)((()=>[W])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,i.Wm)($,{title:"注册",modelValue:a.registerVisible,"onUpdate:modelValue":t[28]||(t[28]=e=>a.registerVisible=e),width:"384px",center:"true",onClose:t[29]||(t[29]=e=>z.registerDialogClose()),"append-to-body":"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{model:a.registerForm,"label-width":"30%","label-position":"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(M,{label:"用户名",required:"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.registerForm.username,"onUpdate:modelValue":t[20]||(t[20]=e=>a.registerForm.username=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,{label:"密码",required:"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.registerForm.passwordFirst,"onUpdate:modelValue":t[21]||(t[21]=e=>a.registerForm.passwordFirst=e),style:{width:"80%"},"show-password":"true"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,{label:"再次输入",required:"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.registerForm.passwordSecond,"onUpdate:modelValue":t[22]||(t[22]=e=>a.registerForm.passwordSecond=e),style:{width:"80%"},"show-password":"true"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,{label:"昵称",required:"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.registerForm.name,"onUpdate:modelValue":t[23]||(t[23]=e=>a.registerForm.name=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,{label:"手机号"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.registerForm.phone_num,"onUpdate:modelValue":t[24]||(t[24]=e=>a.registerForm.phone_num=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,{label:"邮箱",required:"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.registerForm.email,"onUpdate:modelValue":t[25]||(t[25]=e=>a.registerForm.email=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,i.Wm)(M,{label:"验证码",required:"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{modelValue:a.registerForm.code,"onUpdate:modelValue":t[26]||(t[26]=e=>a.registerForm.code=e),style:{width:"40%"}},null,8,["modelValue"]),(0,i.Wm)(S,{disabled:a.getCodeDisable,onClick:z.getCode,style:{width:"40%"}},{default:(0,i.w5)((()=>[k])),_:1},8,["disabled","onClick"]),(0,i.wy)((0,i.Wm)(B,{size:"small"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(a.count),1)])),_:1},512),[[r.F8,a.codeShow]])])),_:1}),(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[(0,i.Wm)(S,{onClick:t[27]||(t[27]=e=>z.register()),style:{width:"80%"},type:"primary"},{default:(0,i.w5)((()=>[V])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),v,x,(0,i._)("div",null,[(0,i.Wm)(S,{style:{"margin-right":"20px",height:"50px",width:"50px"},onClick:t[30]||(t[30]=e=>z.HeaderRightButton())},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{style:{"font-size":"16px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(Y)])),_:1})])),_:1})])])}var U=o(7233),Z=o(8166),S=o(3487),D=o(8714),P=o(9588),j=o(4146),O=o(4842),T=o(2635),E=o(1255),R=o(8173),q=o(519),A=o(9669),L=o.n(A);const N=L().create({baseURL:"/api",timeout:5e3});N.interceptors.request.use((e=>(e.headers["Content-Type"]="application/json;charset=utf-8",e)),(e=>Promise.reject(e))),N.interceptors.response.use((e=>{let t=e.data;return"blob"===e.config.responseType||"string"===typeof t&&(t=t?JSON.parse(t):t),t}),(e=>(console.log("err"+e),Promise.reject(e))));var H=N,M=o(610),G={name:"Header",components:{User:U.Z,More:Z.Z,ArrowLeft:S.Z,ArrowRight:D.Z,Lock:P.Z,Setting:j.Z,ChatDotSquare:O.Z,MostlyCloudy:T.Z,Star:E.Z,Key:R.Z,Right:q.Z},data(){return{rightDrawerSize:"20%",leftDrawer:!1,rightDrawer:!1,isCollapse:!1,handleOpen:!1,handleClose:!0,profilePicture:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fku.90sjimg.com%2Felement_origin_min_pic%2F01%2F37%2F09%2F22573c3a831082c.jpg&refer=http%3A%2F%2Fku.90sjimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1648554299&t=59ed3559126946ab128e03da0acfcf25",name:"default",loginVisible:!1,registerVisible:!1,forgetVisible:!1,chongZhiVisible:!1,count:"",timer:null,getCodeDisable:!1,forgetGetCodeDisable:!1,codeShow:!1,forgetCodeShow:!1,form:{},chongZhiUsername:"",codeCheckFailed:!1,registerForm:{username:"",passwordFirst:"",passwordSecond:"",name:"",phone_num:"",email:"",code:""},forgetForm:{username:"",email:"",code:""},chongZhiForm:{passwordFirst:"",passwordSecond:""}}},methods:{HeaderRightButton(){null==this.getCookie("username")?(console.log("登录！！！"),this.loginVisible=!0):(this.rightDrawer=!0,this.name=this.getCookie("name"),null!=this.getCookie("profilePicture")&&(console.log("sss"),this.profilePicture=this.getCookie("profilePicture")))},logout(){this.delCookie("username"),this.delCookie("name"),this.delCookie("profilePicture"),(0,M.z8)({showClose:!0,message:"注销成功！",type:"success"}),this.rightDrawer=!1,this.loginVisible=!0},loginSuccess(){this.loginVisible=!1},loginDialogClose(){this.loginVisible=!1,this.form={}},forgetDialogClose(){this.forgetVisible=!1,this.forgetForm={}},chongZhiDialogClose(){this.chongZhiVisible=!1,this.chongZhiForm={}},registerDialogClose(){this.registerVisible=!1},login(){H({method:"post",url:"/user/login",data:this.form}).then((e=>{-1==e.code?(0,M.z8)({showClose:!0,message:"请确认账号密码填写完整",type:"error"}):-2==e.code?(0,M.z8)({showClose:!0,message:"账号或密码错误",type:"error"}):1==e.code&&((0,M.z8)({showClose:!0,message:"登陆成功！",type:"success"}),this.delCookie("username"),this.delCookie("name"),this.delCookie("profilePicture"),this.setCookie("username",e.data.username,7),this.setCookie("name",e.data.name,7),e.data.profilePicture&&this.setCookie("profilePicture",e.data.profilePicture,7),this.loginSuccess())}))},async checkUsernameEmail(e,t){let o={username:e,email:t};await H({method:"post",url:"/user/checkReal",data:o}).then((async e=>-1==e.code||-2==e.code?((0,M.z8)({showClose:!0,message:"输入信息错误！",type:"error"}),!1):1==e.code?await this.checkCode(this.forgetForm.email,this.forgetForm.code)?((0,M.z8)({showClose:!0,message:"验证码错误！",type:"error"}),!1):((0,M.z8)({showClose:!0,message:"验证成功！",type:"success"}),this.chongZhiUsername=this.forgetForm.username,this.chongZhiShow(),!0):void 0))},async checkReal(){let e=!1;for(const t in this.forgetForm)if(""==this.forgetForm[t]){e=!0;break}e?(0,M.z8)({showClose:!0,message:"请输入必填栏所需内容",type:"error"}):await this.checkUsernameEmail(this.forgetForm.username,this.forgetForm.email)},registerShow(){this.loginDialogClose(),this.registerVisible=!0,this.registerForm={username:"",passwordFirst:"",passwordSecond:"",name:"",phone_num:"",email:"",code:""}},forgetShow(){this.loginDialogClose(),this.forgetVisible=!0,this.forgetForm={username:"",email:"",code:""}},chongZhiShow(){this.forgetDialogClose(),this.chongZhiVisible=!0,this.chongZhiForm={passwordFirst:"",passwordSecond:""}},checkEmail(e){const t=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;return!(""!=e&&!t.test(e))},checkUsername(){const e=/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/im,t=/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im;return!e.test(this.registerForm.username)&&!t.test(this.registerForm.username)&&!(this.registerForm.username.length<5||this.registerForm.username>16)},checkName(){const e=/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/im,t=/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im;return!e.test(this.registerForm.name)&&!t.test(this.registerForm.name)&&!(this.registerForm.name.length<1||this.registerForm.name>16)},checkPassword(e){const t=/^(?=.*[0-9])(?=.*[a-zA-Z]).{8,30}$/;return!!t.test(e)},checkPhoneNumber(){if(null!=this.registerForm.phone_num&&""!=this.registerForm.phone_num){const e=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;return!!e.test(this.registerForm.phone_num)}return!0},getCode(){const e=60;""!=this.registerForm.email&&this.checkEmail(this.registerForm.email)?this.timer||(this.count=e,console.log(this.count),this.codeShow=!1,this.getCodeDisable=!0,this.timer=setInterval((()=>{this.count>0&&this.count<=e?(this.codeShow=!0,this.count--):(clearInterval(this.timer),this.timer=null,this.getCodeDisable=!1,this.codeShow=!1)}),1e3),H({method:"post",url:"/user/getCode",data:this.registerForm.email}).then((e=>{-1==e.code?(0,M.z8)({showClose:!0,message:"发送错误",type:"error"}):1==e.code&&(0,M.z8)({showClose:!0,message:"发送成功！",type:"success"})}))):(0,M.z8)({showClose:!0,message:"请确认邮箱填写完整并且正确",type:"error"})},forgetGetCode(){const e=60;""!=this.forgetForm.email&&this.checkEmail(this.forgetForm.email)?this.timer||(this.count=e,console.log(this.count),this.forgetCodeShow=!1,this.forgetGetCodeDisable=!0,this.timer=setInterval((()=>{this.count>0&&this.count<=e?(this.forgetCodeShow=!0,this.count--):(clearInterval(this.timer),this.timer=null,this.forgetGetCodeDisable=!1,this.forgetCodeShow=!1)}),1e3),H({method:"post",url:"/user/getCode",data:this.registerForm.email}).then((e=>{-1==e.code?(0,M.z8)({showClose:!0,message:"发送错误",type:"error"}):1==e.code&&(0,M.z8)({showClose:!0,message:"发送成功！",type:"success"})}))):(0,M.z8)({showClose:!0,message:"请确认邮箱填写完整并且正确",type:"error"})},async checkUserNameRep(e){let t=!0;await H({method:"post",url:"/user/checkUser",data:this.registerForm.username}).then((e=>{-1==e.code?t=!1:1==e.code&&(t=!0)}));return!!t},async checkCode(e,t){let o={email:e,code:t};await H({method:"post",url:"/user/checkCode",data:o}).then((e=>{-1==e.code?this.codeCheckFailed=!1:1==e.code&&(this.codeCheckFailed=!0)}));return!this.codeCheckFailed},registerSuccess(){this.registerVisible=!1,this.loginVisible=!0},postRegister(){const e={username:this.registerForm.username,password:this.registerForm.passwordFirst,email:this.registerForm.email,phone_number:this.registerForm.phone_num,name:this.registerForm.name};H({method:"post",url:"/user/register",data:e})},chongZhiSuccess(){this.chongZhiUsername="",this.chongZhiDialogClose()},chongZhi(){let e=!1;for(const t in this.chongZhiForm)if(""==this.chongZhiForm[t]&&"phone_num"!=t){e=!0;break}if(e)(0,M.z8)({showClose:!0,message:"请输入必填栏所需内容",type:"error"});else if(this.chongZhiForm.passwordFirst!=this.chongZhiForm.passwordSecond)(0,M.z8)({showClose:!0,message:"请确定两次密码输入一致！",type:"error"});else if(this.checkPassword(this.chongZhiForm.passwordFirst)){const e={username:this.chongZhiUsername,password:this.chongZhiForm.passwordFirst};H({method:"post",url:"/user/chongZhi",data:e}),(0,M.z8)({showClose:!0,message:"重置密码成功！",type:"success"}),this.chongZhiSuccess()}else(0,M.z8)({showClose:!0,message:"密码至少包含字母、数字，8-30位",type:"error"})},async register(){let e=!1;for(const t in this.registerForm)if(""==this.registerForm[t]&&"phone_num"!=t){e=!0;break}e?(0,M.z8)({showClose:!0,message:"请输入必填栏所需内容",type:"error"}):this.checkUsername()?await this.checkUserNameRep(this.registerForm.username)?(0,M.z8)({showClose:!0,message:"用户名已存在！",type:"error"}):this.checkPassword(this.registerForm.passwordFirst)?this.registerForm.passwordFirst!=this.registerForm.passwordSecond?(0,M.z8)({showClose:!0,message:"请确定两次密码输入一致！",type:"error"}):this.checkName()?this.checkPhoneNumber()?this.checkEmail(this.registerForm.email)?await this.checkCode(this.registerForm.email,this.registerForm.code)?(0,M.z8)({showClose:!0,message:"请确定验证码填写正确！",type:"error"}):(this.postRegister(),(0,M.z8)({showClose:!0,message:"注册成功！",type:"success"}),this.registerSuccess()):(0,M.z8)({showClose:!0,message:"请确定邮箱格式正确",type:"error"}):(0,M.z8)({showClose:!0,message:"请确定手机号格式正确",type:"error"}):(0,M.z8)({showClose:!0,message:"昵称不得包含特殊字符且长度在1-16之间",type:"error"}):(0,M.z8)({showClose:!0,message:"密码至少包含字母、数字，8-30位",type:"error"}):(0,M.z8)({showClose:!0,message:"用户名不得包含特殊字符且长度在5-16之间",type:"error"})}}},I=o(3744);const $=(0,I.Z)(G,[["render",z],["__scopeId","data-v-67384385"]]);var B=$,Y={name:"Layout",components:{Header:B}};const J=(0,I.Z)(Y,[["render",s]]);var K=J,Q=o(2119);const X=(0,i.Uk)("login"),ee=(0,i.Uk)("login"),te=(0,i.Uk)("login"),oe=(0,i.Uk)("login"),re=(0,i.Uk)("登录"),ie=(0,i.Uk)(" 去注册 ");function se(e,t,o,r,s,l){const a=(0,i.up)("el-button"),n=(0,i.up)("el-input"),m=(0,i.up)("el-form-item"),d=(0,i.up)("right"),u=(0,i.up)("el-icon"),h=(0,i.up)("el-form"),c=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",null,[(0,i.Wm)(a,{onClick:t[0]||(t[0]=e=>l.showLogin()),style:{width:"3rem",color:"chocolate"}},{default:(0,i.w5)((()=>[X])),_:1})]),(0,i._)("div",null,[(0,i.Wm)(a,{onClick:t[1]||(t[1]=e=>l.showLogin()),style:{width:"15rem",color:"chocolate"}},{default:(0,i.w5)((()=>[ee])),_:1})]),(0,i._)("div",null,[(0,i.Wm)(a,{onClick:t[2]||(t[2]=e=>l.showLogin()),style:{width:"48px",color:"chocolate"}},{default:(0,i.w5)((()=>[te])),_:1})]),(0,i._)("div",null,[(0,i.Wm)(a,{onClick:t[3]||(t[3]=e=>l.showLogin()),style:{width:"196px",color:"chocolate"}},{default:(0,i.w5)((()=>[oe])),_:1})]),(0,i.Wm)(c,{title:"登录",modelValue:s.loginVisible,"onUpdate:modelValue":t[8]||(t[8]=e=>s.loginVisible=e),width:"500px",center:"true"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{model:s.form,"label-width":"5rem","label-position":"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{label:"用户名"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{modelValue:s.form.username,"onUpdate:modelValue":t[4]||(t[4]=e=>s.form.username=e),style:{width:"12rem"}},null,8,["modelValue"])])),_:1}),(0,i.Wm)(m,{label:"密码"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{modelValue:s.form.password,"onUpdate:modelValue":t[5]||(t[5]=e=>s.form.password=e),style:{width:"12rem"},"show-password":"true"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(a,{onClick:t[6]||(t[6]=e=>l.login())},{default:(0,i.w5)((()=>[re])),_:1}),(0,i.Wm)(a,{onClick:t[7]||(t[7]=e=>l.login()),type:"primary",plain:""},{default:(0,i.w5)((()=>[ie,(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d)])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}var le=o(9608),ae={name:"HomeView",components:{Edit:le.Z},data(){return{loginVisible:!1,form:{}}},methods:{showLogin(){this.loginVisible=!0,this.form={}},login(){H({method:"post",url:"/user/login",data:this.form}).then((e=>{-1==e.code?(0,M.z8)({showClose:!0,message:"请确认账号密码填写完整",type:"error"}):-2==e.code?(0,M.z8)({showClose:!0,message:"账号或密码错误",type:"error"}):1==e.code&&(0,M.z8)({showClose:!0,message:"登陆成功！",type:"success"})}))}}};const ne=(0,I.Z)(ae,[["render",se]]);var me=ne;const de=(0,i.Uk)(" open "),ue=(0,i._)("span",null,"Hi there!",-1);function he(e,t,o,r,s,l){const a=(0,i.up)("el-button"),n=(0,i.up)("el-drawer");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(a,{type:"primary",style:{"margin-left":"16px"},onClick:t[0]||(t[0]=e=>s.drawer=!0)},{default:(0,i.w5)((()=>[de])),_:1}),(0,i.Wm)(n,{modelValue:s.drawer,"onUpdate:modelValue":t[1]||(t[1]=e=>s.drawer=e),title:"I am the title","with-header":!1,direction:"ltr"},{default:(0,i.w5)((()=>[ue])),_:1},8,["modelValue"])],64)}var ce={name:"test",data(){return{drawer:!1}}};const ge=(0,I.Z)(ce,[["render",he]]);var pe=ge;function fe(e,t,o,r,s,l){const a=(0,i.up)("el-input"),n=(0,i.up)("el-form-item"),m=(0,i.up)("el-form");return(0,i.wg)(),(0,i.j4)(m,{ref:"formRef",model:s.form,"label-width":"120px"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{label:"Activity name"},{default:(0,i.w5)((()=>[(0,i.Wm)(a,{modelValue:s.form.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.form.name=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])}var we={name:"Login",components:{},data(){return{form:{}}},methods:{}};const ye=(0,I.Z)(we,[["render",fe]]);var be=ye;const Ce=[{path:"/home",name:"home",component:me},{path:"/test",name:"test",component:pe},{path:"/login",name:"login",component:be},{path:"/about",name:"about",component:()=>o.e(443).then(o.bind(o,7381))}],_e=(0,Q.p7)({history:(0,Q.PO)("/"),routes:Ce});var Fe=_e,We=o(8637),ke=(0,We.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});o(4415),o(8005);function Ve(e){var t,o=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(o))?t[2]:null}function ve(e,t,o){var r=new Date;r.setDate(r.getDate()+o),document.cookie=e+"="+escape(t)+(null==o?"":";expires="+r.toGMTString())}function xe(e){var t=new Date;t.setTime(t.getTime()-1);var o=Ve(e);null!=o&&(document.cookie=e+"="+o+";expires="+t.toGMTString())}var ze=o(2751);const Ue=(0,r.ri)(K);Ue.config.globalProperties.getCookie=Ve,Ue.config.globalProperties.setCookie=ve,Ue.config.globalProperties.delCookie=xe,Ue.use(ke).use(Fe).use(ze.Z).mount("#app")}},t={};function o(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,r,i,s){if(!r){var l=1/0;for(d=0;d<e.length;d++){r=e[d][0],i=e[d][1],s=e[d][2];for(var a=!0,n=0;n<r.length;n++)(!1&s||l>=s)&&Object.keys(o.O).every((function(e){return o.O[e](r[n])}))?r.splice(n--,1):(a=!1,s<l&&(l=s));if(a){e.splice(d--,1);var m=i();void 0!==m&&(t=m)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,i,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,r){return o.f[r](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/about.5e2e2b83.js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue:";o.l=function(r,i,s,l){if(e[r])e[r].push(i);else{var a,n;if(void 0!==s)for(var m=document.getElementsByTagName("script"),d=0;d<m.length;d++){var u=m[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+s){a=u;break}}a||(n=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=function(t,o){a.onerror=a.onload=null,clearTimeout(c);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(o)})),t)return t(o)},c=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),n&&document.head.appendChild(a)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={143:0};o.f.j=function(t,r){var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((function(o,r){i=e[t]=[o,r]}));r.push(i[2]=s);var l=o.p+o.u(t),a=new Error,n=function(r){if(o.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),l=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+l+")",a.name="ChunkLoadError",a.type=s,a.request=l,i[1](a)}};o.l(l,n,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,s,l=r[0],a=r[1],n=r[2],m=0;if(l.some((function(t){return 0!==e[t]}))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(n)var d=n(o)}for(t&&t(r);m<l.length;m++)s=l[m],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},r=self["webpackChunkvue"]=self["webpackChunkvue"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(6249)}));r=o.O(r)})();
//# sourceMappingURL=app.f07d07f6.js.map